<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Archive | Levoria</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div class="background-shapes">
  <span></span><span></span><span></span>
</div>

<header>
  <h1>Archive & Reflections</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="journal.html">Unload</a>
    <a href="mood.html">Mood Tracker</a>
    <a href="daily.html">Daily Ritual</a>
    <a href="gentle.html">Gentle</a>
  </nav>
</header>

<main>
  <div class="container">

    <!-- Past Journal Entries -->
    <div class="card">
      <h2>Saved Journal Entries</h2>
      <div id="archiveJournalList"></div>
    </div>

    <!-- Mood Trend Chart -->
    <div class="card">
      <h2>Mood Trends (Optional)</h2>
      <canvas id="archiveMoodChart"></canvas>
    </div>

  </div>
</main>

<script src="script.js"></script>
<script>
/* ===== ARCHIVE PAGE ===== */

// Load saved journal entries
function loadArchiveJournals() {
  const journalList = document.getElementById("archiveJournalList");
  journalList.innerHTML = "";
  const journals = JSON.parse(localStorage.getItem("journals")) || [];

  journals.forEach(j => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `<strong>${j.date}</strong><p>${j.text}</p>`;
    journalList.appendChild(div);
  });
}

// Load mood trend chart
function loadArchiveChart() {
  const ctx = document.getElementById("archiveMoodChart");
  const moods = JSON.parse(localStorage.getItem("moods")) || [];

  new Chart(ctx, {
    type: "line",
    data: {
      labels: moods.map((_, i) => `Day ${i + 1}`),
      datasets: [{
        label: "Mood Level",
        data: moods,
        borderWidth: 2,
        fill: false
      }]
    },
    options: {
      scales: {
        y: { beginAtZero: true, min: 1, max: 4, ticks: { stepSize: 1 } }
      }
    }
  });
}

loadArchiveJournals();
loadArchiveChart();
</script>

</body>
</html>
